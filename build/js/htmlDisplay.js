window;import{jsxs as e,jsx as t,Fragment as r}from"react/jsx-runtime";import*as n from"react";import{RpcContext as a,useAsyncPersistent as o,mapRpcError as i,importWidgetModule as s}from"@leanprover/infoview";async function c(a,o,i){if("text"in i)return t(r,{children:i.text});if("element"in i){const[e,r,s]=i.element,l={};for(const[e,t]of r)l[e]=t;const m=await Promise.all(s.map((async e=>await c(a,o,e))));return"hr"===e?t("hr",{}):0===m.length?n.createElement(e,l):n.createElement(e,l,m)}if("component"in i){const[e,t,r,l]=i.component,m=await Promise.all(l.map((async e=>await c(a,o,e)))),f={...r,pos:o},p=await s(a,o,e);if(!(t in p))throw new Error(`Module '${e}' does not export '${t}'`);return 0===m.length?n.createElement(p[t],f):n.createElement(p[t],f,m)}return e("span",{className:"red",children:["Unknown HTML variant: ",JSON.stringify(i)]})}function l({pos:s,html:l}){const m=n.useContext(a),f=o((()=>c(m,s,l)),[m,s,l]);return"resolved"===f.state?f.value:"rejected"===f.state?e("span",{className:"red",children:["Error rendering HTML: ",i(f.error).message]}):t(r,{})}export{l as default};